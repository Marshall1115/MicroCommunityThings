# HC物联网系统对接门禁

## 说明

如何将自己的门禁设备对接至HC物联网系统，然后提供给别人使用是本文想要解决的问题，一般的门禁对接常见两种方式：
一种为门禁平台，这一种 不直接和门禁设备对接 而是和第三方提供的平台对接 根据平台提供的接口 将数据推送给第三方
平台；另一种则为直接和设备交互，设备会提供比较常见的 http 接口 mqtt接口 socket 接口等，两种的对接方式基本
一样 将数据同步给第三方平台或者 设备，一般第一种的对接难度会比较大一些，第三方平台一般需要的数据较多，比如小区
楼栋 单元 房屋 位置信息 设备信息 业主信息等需要将大量的数据推送给第三方平台，不推荐对接。第二种较简单写，只需要
将人脸信息上传设备即可，所需数据较少，以下为第二种方式说明整个对接过程。

## 需要对接的接口清单

### 1、获取设备上人脸接口

该接口的目的是 在 人脸同步 新增或者修改时 判断设备上是否存在 该人脸 如果存在 则修改 如果不存在则新增。
有些设备 如果已经存在时新增会失败，通过此接口判断是否存在，如果设备没有这个能力可以不对接，默认HC物联网系统
自己也有判断能力，对应于IAssessControlProcess.java 接口类的 getFace方法。

### 2、添加人脸

顾名思义，添加人脸为在界面添加人脸时将人脸信息送给设备，目前HC物联网系统本身不具备人脸识别的能力，人脸识别都是
需要设备自己实现。 对应于 IAssessControlProcess.java 接口类 的 addFace方法。

### 3、修改人脸

修改人脸为在人员的信息发生变化时将人脸信息重新同步门禁设备，对应于 IAssessControlProcess.java 接口类 的
 updateFace方法 。

### 4、删除人脸

删除人脸为在人员信息删除后需要在设备上删除相应的人脸，不能再让该人员通信。对应于 IAssessControlProcess.java
接口类 的deleteFace方法。

 
### 5、清空人脸

当界面清空人脸时需要门禁设备清楚设备上人脸，对应于 IAssessControlProcess.java 接口类 的clearFace方法。

### 6、重启设备

当在界面操作重启时需要调用设备接口 重启设备 对应于 IAssessControlProcess.java 接口类 的restartMachine方法。

### 7、远程开门

当业主 物业人员在小程序或者 系统上 点击远程开门时门禁设备需要开门放行 对应于 IAssessControlProcess.java 接口类 的
openDoor方法。

### 8.0、开门记录上报

当人员通信时，设备需要将人脸信息上报给HC物联网系统，供HC物联网系统查看  对应于 IAssessControlProcess.java 接口类 的
httpFaceResult方法。