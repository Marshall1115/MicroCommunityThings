(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23807bbf"],{"1c64":function(e,t,a){},"1cc6":function(e,t,a){"use strict";var n=a("1c64"),l=a.n(n);l.a},"2fd4":function(e,t,a){"use strict";a.d(t,"h",(function(){return l})),a.d(t,"i",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"q",(function(){return o})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"l",(function(){return p})),a.d(t,"o",(function(){return m})),a.d(t,"r",(function(){return f})),a.d(t,"k",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"g",(function(){return g})),a.d(t,"m",(function(){return b})),a.d(t,"s",(function(){return k})),a.d(t,"p",(function(){return _})),a.d(t,"a",(function(){return y})),a.d(t,"n",(function(){return C}));var n=a("b775");function l(e){return Object(n["a"])({url:"/api/machine/getMachines",method:"get",params:{page:1,row:10,machineTypeCd:"9997"}})}function s(e){return Object(n["a"])({url:"/api/machine/getMachines",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/api/machine/deleteMachine",method:"post",data:e})}function o(e){return Object(n["a"])({url:"/api/machine/startMachine",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/api/machine/getMachineFaces",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/api/attendance/getClasses",method:"get",params:{page:1,row:10}})}function u(e){return Object(n["a"])({url:"/api/attendance/getClasses",method:"get",params:e})}function d(e){return Object(n["a"])({url:"/api/attendance/getClassesAttrs",method:"get",params:{classId:e}})}function p(e){return Object(n["a"])({url:"/api/attendance/getDepartments",method:"get",params:e})}function m(e){return Object(n["a"])({url:"/api/attendance/getStaffs",method:"get",params:e})}function f(e){return Object(n["a"])({url:"/api/attendance/saveClassesStaffs",method:"post",data:e})}function h(e){return Object(n["a"])({url:"/api/attendance/getClassesStaffs",method:"get",params:e})}function v(e){return Object(n["a"])({url:"/api/attendance/deleteClassesStaff",method:"post",data:e})}function g(e){return Object(n["a"])({url:"/api/attendance/getAttendanceTasks",method:"get",params:e})}function b(e){return Object(n["a"])({url:"/api/attendance/getMonthAttendance",method:"get",params:e})}function k(e){return Object(n["a"])({url:"/api/attendance/updateAttClass",method:"post",data:e})}function _(e){return Object(n["a"])({url:"/api/attendance/insertAttClass",method:"post",data:e})}function y(e){return Object(n["a"])({url:"/api/attendance/deleteAttClass",method:"post",data:e})}function C(e){return Object(n["a"])({url:"/api/attendance/getStaffAttendanceLog",method:"get",params:e})}},"333d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},l=[];a("c5f6");Math.easeInOutQuad=function(e,t,a,n){return e/=n/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function r(e,t,a){var n=o(),l=e-n,r=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=r;var o=Math.easeInOutQuad(c,n,l,t);i(o),c<t?s(e):a&&"function"===typeof a&&a()};u()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&r(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&r(0,800)}}},u=c,d=(a("1cc6"),a("2877")),p=Object(d["a"])(u,n,l,!1,null,"f3b72548",null);t["a"]=p.exports},"672e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container",staticStyle:{"margin-bottom":"10px"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入班次名称"},model:{value:e.listQuery.classesName,callback:function(t){e.$set(e.listQuery,"classesName",t)},expression:"listQuery.classesName"}}),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryAttClass}},[e._v("查询班次")]),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.addAttClass}},[e._v("添加班次")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"编号",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"班次名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.classesName))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"打卡范围"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.timeOffset)+"分钟")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"打卡次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.clockCount))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"打卡类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.clockType))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"打卡规则"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.clockTypeValue))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"迟到时间范围"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.lateOffset)+"分钟")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"早退时间范围"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.leaveOffset)+"分钟")]}}])}),e._v(" "),a("el-table-column",{attrs:{"class-name":"status-col",label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,l=t.$index;return[a("el-row",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.editAttClass(n,l)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteAttClassControl(n,l)}}},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.row},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"row",t)},pagination:e.queryAttClass}}),e._v(" "),a("el-dialog",{attrs:{title:"添加班次",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:e.temp,"label-position":"left","label-width":"100px"}},[""!=e.temp.classesId?a("el-form-item",{attrs:{label:"ID",prop:"type"}},[a("el-input",{attrs:{disabled:"true",placeholder:"请输入ID"},model:{value:e.temp.classesId,callback:function(t){e.$set(e.temp,"classesId",t)},expression:"temp.classesId"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"班次名"}},[a("el-input",{attrs:{placeholder:"请输入班次名"},model:{value:e.temp.classesName,callback:function(t){e.$set(e.temp,"classesName",t)},expression:"temp.classesName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"打卡范围"}},[a("el-input",{attrs:{placeholder:"请输入打卡范围"},model:{value:e.temp.timeOffset,callback:function(t){e.$set(e.temp,"timeOffset",t)},expression:"temp.timeOffset"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"打卡次数"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择打卡次数"},on:{change:function(t){return e.selectClockCount(t)}},model:{value:e.temp.clockCount,callback:function(t){e.$set(e.temp,"clockCount",t)},expression:"temp.clockCount"}},e._l(e.clockCountSel,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.startendtime1,expression:"startendtime1"}],attrs:{label:"上下班打卡1"}},[a("el-time-select",{attrs:{placeholder:"上班时间1","picker-options":{start:"00:00",step:"00:05",end:"23:55"}},model:{value:e.temp.startTime1,callback:function(t){e.$set(e.temp,"startTime1",t)},expression:"temp.startTime1"}}),e._v(" "),a("el-time-select",{attrs:{placeholder:"下班时间1","picker-options":{start:"00:00",step:"00:05",end:"23:55",minTime:e.temp.startTime1}},model:{value:e.temp.endTime1,callback:function(t){e.$set(e.temp,"endTime1",t)},expression:"temp.endTime1"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.startendtime2,expression:"startendtime2"}],attrs:{label:"上下班打卡2"}},[a("el-time-select",{attrs:{placeholder:"上班时间2","picker-options":{start:"00:00",step:"00:05",end:"23:55"}},model:{value:e.temp.startTime2,callback:function(t){e.$set(e.temp,"startTime2",t)},expression:"temp.startTime2"}}),e._v(" "),a("el-time-select",{attrs:{placeholder:"下班时间2","picker-options":{start:"00:00",step:"00:05",end:"23:55",minTime:e.temp.startTime2}},model:{value:e.temp.endTime2,callback:function(t){e.$set(e.temp,"endTime2",t)},expression:"temp.endTime2"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.startendtime3,expression:"startendtime3"}],attrs:{label:"上下班打卡3"}},[a("el-time-select",{attrs:{placeholder:"上班时间3","picker-options":{start:"00:00",step:"00:05",end:"23:55"}},model:{value:e.temp.startTime3,callback:function(t){e.$set(e.temp,"startTime3",t)},expression:"temp.startTime3"}}),e._v(" "),a("el-time-select",{attrs:{placeholder:"下班时间3","picker-options":{start:"00:00",step:"00:05",end:"23:55",minTime:e.temp.startTime3}},model:{value:e.temp.endTime3,callback:function(t){e.$set(e.temp,"endTime3",t)},expression:"temp.endTime3"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"打卡类型"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择打卡类型"},on:{change:function(t){return e.selectClockType(t)}},model:{value:e.temp.clockType,callback:function(t){e.$set(e.temp,"clockType",t)},expression:"temp.clockType"}},e._l(e.clockTypeSel,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.clockTypeShow,expression:"clockTypeShow"}],attrs:{label:"选择打卡"}},[a("el-checkbox-group",{on:{change:e.selectCheckWeek},model:{value:e.checkWeekList,callback:function(t){e.checkWeekList=t},expression:"checkWeekList"}},[a("el-checkbox",{attrs:{label:"0"}},[e._v("星期一")]),e._v(" "),a("el-checkbox",{attrs:{label:"1"}},[e._v("星期二")]),e._v(" "),a("el-checkbox",{attrs:{label:"2"}},[e._v("星期三")]),e._v(" "),a("el-checkbox",{attrs:{label:"3"}},[e._v("星期四")]),e._v(" "),a("el-checkbox",{attrs:{label:"4"}},[e._v("星期五")]),e._v(" "),a("el-checkbox",{attrs:{label:"5"}},[e._v("星期六")]),e._v(" "),a("el-checkbox",{attrs:{label:"6"}},[e._v("星期日")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"迟到时间范围"}},[a("el-input",{attrs:{placeholder:"请输入迟到时间范围"},model:{value:e.temp.lateOffset,callback:function(t){e.$set(e.temp,"lateOffset",t)},expression:"temp.lateOffset"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"早退时间范围"}},[a("el-input",{attrs:{placeholder:"请输入早退时间范围"},model:{value:e.temp.leaveOffset,callback:function(t){e.$set(e.temp,"leaveOffset",t)},expression:"temp.leaveOffset"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveAttclassControlInfo()}}},[e._v("提交")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"温馨提示",visible:e.deleteAttClassControlDailogVisible,width:"30%"},on:{"update:visible":function(t){e.deleteAttClassControlDailogVisible=t}}},[a("span",[e._v("您确定删除当前班次吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteAttClassControlDailogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.doDeleteAttClassControl}},[e._v("确 定")])],1)])],1)},l=[],s=(a("28a5"),a("ac6a"),a("2fd4")),i=a("333d"),o=(a("ed08"),{filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},watch:{dialogFormVisible:function(e){0==e&&(this.startendtime1=!1,this.startendtime2=!1,this.startendtime3=!1,this.clockTypeShow=!1,this.checkWeekList=[],this.temp={startTime1:"",endTime1:"",startTime2:"",endTime2:"",startTime3:"",endTime3:"",classesId:"",classesName:"",timeOffset:"",clockCount:"",clockType:"",clockTypeValue:"",lateOffset:"",leaveOffset:""})}},components:{Pagination:i["a"]},data:function(){return{listQuery:{page:1,row:10,classesName:""},list:null,listLoading:!0,deleteAttClassControlDailogVisible:!1,dialogFormVisible:!1,startendtime1:!1,startendtime2:!1,startendtime3:!1,clockTypeShow:!1,curAccessControl:{},checkWeekList:[],total:0,clockTypeSel:[{value:"1001",label:"每天打卡"},{value:"1002",label:"隔天打卡"},{value:"1003",label:"自定义"}],clockCountSel:[{value:"2",label:"2次"},{value:"4",label:"4次"},{value:"6",label:"6次"}],temp:{startTime1:"",endTime1:"",startTime2:"",endTime2:"",startTime3:"",endTime3:"",classesId:"",classesName:"",timeOffset:"",clockCount:"",clockType:"",clockTypeValue:"",lateOffset:"",leaveOffset:""}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(s["d"])().then((function(t){e.list=t.data,e.total=t.total,e.listLoading=!1}))},selectClockCount:function(e){2==e?(this.startendtime1=!0,this.startendtime2=!1,this.startendtime3=!1):4==e?(this.startendtime1=!0,this.startendtime2=!0,this.startendtime3=!1):6==e&&(this.startendtime1=!0,this.startendtime2=!0,this.startendtime3=!0)},selectClockType:function(e){"1003"==e?(this.clockTypeShow=!0,this.temp.checkWeekList=[]):(this.clockTypeShow=!1,"1001"==e&&(this.temp.clockTypeValue="*"),"1002"==e&&(this.temp.clockTypeValue="?"))},selectCheckWeek:function(e){this.temp.clockTypeValue=this.checkWeekList.join(","),console.log(this.checkWeekList),console.log(this.temp.clockTypeValue)},queryAttClass:function(){var e=this;this.listLoading=!0,Object(s["j"])(this.listQuery).then((function(t){e.list=t.data,e.total=t.total,e.listLoading=!1}))},addAttClass:function(){this.dialogFormVisible=!0},editAttClass:function(e,t){var a=this;this.dialogFormVisible=!0,Object(s["e"])(e.classesId).then((function(t){var n=t.data;n.forEach((function(t,a){"10000"==t.specCd&&(e.startTime1=t.value),"20000"==t.specCd&&(e.endTime1=t.value),"21000"==t.specCd&&(e.startTime2=t.value),"11000"==t.specCd&&(e.endTime2=t.value),"12000"==t.specCd&&(e.startTime3=t.value),"22000"==t.specCd&&(e.endTime3=t.value)})),a.selectClockCount(n.length),"1003"==e.clockType?(a.clockTypeShow=!0,a.checkWeekList=e.clockTypeValue.split(","),console.log("888",a.checkWeekList)):a.clockTypeShow=!1,console.log("999999",e),a.temp=e}))},deleteAttClassControl:function(e){this.deleteAttClassControlDailogVisible=!0,this.curAccessControl=e},doDeleteAttClassControl:function(){var e=this;this.listLoading=!0,Object(s["a"])(this.curAccessControl).then((function(t){e.listLoading=!1,e.$message({type:"info",message:t.msg}),e.deleteAttClassControlDailogVisible=!1,e.queryAttClass()}))},saveAttclassControlInfo:function(){var e=this;this.listLoading=!0,""==this.temp.classesId?Object(s["p"])(this.temp).then((function(t){e.listLoading=!1,e._cancleMapping(),e.queryAttClass()})):Object(s["s"])(this.temp).then((function(t){e.listLoading=!1,e._cancleMapping(),e.queryAttClass()}))},_cancleMapping:function(){this.dialogFormVisible=!1},handleCommand:function(e){e()}}}),r=o,c=a("2877"),u=Object(c["a"])(r,n,l,!1,null,null,null);t["default"]=u.exports},aa77:function(e,t,a){var n=a("5ca1"),l=a("be13"),s=a("79e5"),i=a("fdef"),o="["+i+"]",r="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,a){var l={},o=s((function(){return!!i[e]()||r[e]()!=r})),c=l[e]=o?t(p):i[e];a&&(l[a]=c),n(n.P+n.F*o,"String",l)},p=d.trim=function(e,t){return e=String(l(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},c5f6:function(e,t,a){"use strict";var n=a("7726"),l=a("69a8"),s=a("2d95"),i=a("5dbc"),o=a("6a99"),r=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,p=a("aa77").trim,m="Number",f=n[m],h=f,v=f.prototype,g=s(a("2aeb")(v))==m,b="trim"in String.prototype,k=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():p(t,3);var a,n,l,s=t.charCodeAt(0);if(43===s||45===s){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:n=2,l=49;break;case 79:case 111:n=8,l=55;break;default:return+t}for(var i,r=t.slice(2),c=0,u=r.length;c<u;c++)if(i=r.charCodeAt(c),i<48||i>l)return NaN;return parseInt(r,n)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof f&&(g?r((function(){v.valueOf.call(a)})):s(a)!=m)?i(new h(k(t)),a,f):k(t)};for(var _,y=a("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;y.length>C;C++)l(h,_=y[C])&&!l(f,_)&&d(f,_,u(h,_));f.prototype=v,v.constructor=f,a("2aba")(n,m,f)}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);